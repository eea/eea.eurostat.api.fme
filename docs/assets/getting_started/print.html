<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>FME Package Eurostat - Getting Started</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="introduction.html">Introduction</a></li><li class="chapter-item expanded "><a href="requirements.html"><strong aria-hidden="true">1.</strong> Requirements</a></li><li class="chapter-item expanded "><a href="install.html"><strong aria-hidden="true">2.</strong> Getting the package</a></li><li class="chapter-item expanded "><a href="uninstall.html"><strong aria-hidden="true">3.</strong> Verification and uninstall</a></li><li class="chapter-item expanded "><a href="add_reader.html"><strong aria-hidden="true">4.</strong> Adding a Reader in FME</a></li><li class="chapter-item expanded "><a href="add_geometry.html"><strong aria-hidden="true">5.</strong> Adding Geometries</a></li><li class="chapter-item expanded "><a href="codelists.html"><strong aria-hidden="true">6.</strong> Adding Code List attributes</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">FME Package Eurostat - Getting Started</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="getting-started-with-the-fme-package-for-eurostat"><a class="header" href="#getting-started-with-the-fme-package-for-eurostat">Getting started with the FME™ Package for Eurostat</a></h1>
<p>FME is an ETL-tool made by Safe Software (www.safe.com). This package contains functionality to facilitate reading Eurostat data within FME. Find out more about the FME Package technology here: <a href="https://community.safe.com/s/article/fme-packages-faq">https://community.safe.com/s/article/fme-packages-faq</a></p>
<p>The package contains:</p>
<ul>
<li>the FME Reader</li>
<li>FME Help files</li>
</ul>
<p>Disclaimer:
Every effort has been made to ensure the accuracy of this document. We apologize for any errors or omissions that remain. This document was written in the development stage of the reader. Versions of the package/reader in this document may not match the current version of the package that is in production right now. All the functionality in this document should be updated and correspond the current release.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="requirements"><a class="header" href="#requirements">Requirements</a></h1>
<h2 id="fme-desktop-software"><a class="header" href="#fme-desktop-software">FME Desktop Software</a></h2>
<p>To use the package you do need the software FME Desktop 2022.1 (build 22618) or a later version. If you do not already have access to FME it can be downloaded here: </p>
<p><a href="https://www.safe.com/support/downloads/">https://www.safe.com/support/downloads/</a></p>
<h2 id="fme-desktop-knowledge"><a class="header" href="#fme-desktop-knowledge">FME Desktop Knowledge</a></h2>
<p>This document is not a complete FME tutorial and using the functions requires basic FME knowledge. By visiting the FME Community (<a href="https://community.safe.com/">https://community.safe.com/</a>) you can find training, webinars and more resources to learn the basics.</p>
<h2 id="os-support"><a class="header" href="#os-support">OS Support</a></h2>
<p>The package has been tested both on 64-bit Windows and macOS. It should also work on Linux-versions supported by FME.</p>
<h2 id="eurostat-access"><a class="header" href="#eurostat-access">Eurostat Access</a></h2>
<p>All users may consult or download data and publications free of charge from the Eurostat web site. For more information on Eurostat’s policies and copyrights rules please visit: <a href="https://ec.europa.eu/eurostat/web/main/about-us/policies/copyright">https://ec.europa.eu/eurostat/web/main/about-us/policies/copyright</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-the-package"><a class="header" href="#getting-the-package">Getting the package</a></h1>
<h2 id="manual-install"><a class="header" href="#manual-install">Manual install</a></h2>
<p>You can obtain the &quot;.fpkg&quot; package file at GitHub: </p>
<p><a href="https://github.com/eea/eea.eurostat.api.fme">https://github.com/eea/eea.eurostat.api.fme</a>.</p>
<p>A sample filename is: <code>eea.reportnet-0.2.0.fpkg</code> where <code>0.2.0</code> states the version-number.</p>
<h2 id="automatic-install-from-fme-hub"><a class="header" href="#automatic-install-from-fme-hub">Automatic install from FME Hub</a></h2>
<p>This is not yet supported for this package.</p>
<p>FME Hub can be found at <a href="https://hub.safe.com">https://hub.safe.com</a>. Items in FME Hub can be listed and installed from within FME. </p>
<h2 id="installation-of-the-package"><a class="header" href="#installation-of-the-package">Installation of the package</a></h2>
<p>When you have downloaded the package-file and have FME installed you are ready to install:</p>
<p><img src="./images/fpkg_icon.png" alt="" /></p>
<p>It’s recommended to start FME Workbench and drag the package-file onto the FME canvas:</p>
<p><img src="./images/drag_fpkg.png" alt="Dragging the FME Package file into FME Workbench" /></p>
<p>Allow the installation of the package:</p>
<p><img src="./images/install_fpkg_warning.png" alt="Allowing installation in FME" /></p>
<p>After installation it is recommended to restart FME Desktop and verify the installation.</p>
<p><em>(Note that you can double-click the package file to start the installation. However – if you have multiple versions of FME Desktop installed, it will be installed in the default version. By dragging the file into an already started FME session you can control what version the package gets installed to).</em></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="verification-and-uninstall"><a class="header" href="#verification-and-uninstall">Verification and uninstall</a></h1>
<p>By starting FME Desktop and select &quot;Tools/FME Options&quot; in the menu you can verify that the package was installed. </p>
<p><img src="./images/check_install.png" alt="Checking installation" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="adding-a-reader-in-fme"><a class="header" href="#adding-a-reader-in-fme">Adding a Reader in FME</a></h1>
<p>You can add a Eurostat reader in any of the standard ways of FME. </p>
<p>Choosing a dataset is however only possible from the &quot;Select File From Web&quot; option. An example is shown below:</p>
<p><img src="./images/add_reader.png" alt="Adding the FME Reader and Parameters" /></p>
<h2 id="adding-a-web-connection"><a class="header" href="#adding-a-web-connection">Adding a Web Connection.</a></h2>
<p>The first time the reader is used, a web connection must be created. A webconnection is used to be able to easily make a distinction between datasets from different organisations. Right now the Eurostat site does not require authentication. Using a webconnection from the start will allow an easier transition into authentication if this is added in future versions. </p>
<p>A new webconnection is created by clicking on the &quot;Eurostat Connection&quot;, &quot;Add Web Connection...&quot;.</p>
<p><img src="./images/add_web_connection.png" alt="" /></p>
<p>The Web Service chosen should be kept at the default &quot;Eurostat_vX(eea.eurostat)&quot;. The connection name can be set as the user wants. It is however recommended to give it a clear name. </p>
<p>For instance:</p>
<ul>
<li>Eurostat – Eurostat</li>
<li>Eurostat – DG COMP</li>
</ul>
<p>The Agency chosen determines from which organisation data is read.</p>
<p>The Local Cache folder lets you decide where the cache is downloaded to. There are a lot of dataflows to choose from. To avoid loading the list and structure every time, this information is stored in the form of a cache.</p>
<p>The Expiry Time can be set to determine how long the cache should be saved.</p>
<h2 id="setting-parameters-and-choosing-a-dataset"><a class="header" href="#setting-parameters-and-choosing-a-dataset">Setting Parameters and choosing a Dataset</a></h2>
<p>Once the web connection is created, you can start choosing a dataset and set the parameters.</p>
<p><img src="./images/choose_dataset_dialog_1.png" alt="" /></p>
<p>All the parameters beside the web connection you’ve just created are optional.</p>
<h3 id="start-and-end-period"><a class="header" href="#start-and-end-period">Start and End Period</a></h3>
<p>Providing a value for Start Period will ensure that data with a Time_Period greater than or equal to the given value will be read. Providing a value for End Period will ensure that data with a Time_Period less than or equal to the given value will be read. Values should correspond to the format for Time_Period for the chosen dataflow.</p>
<div class="table-wrapper"><table><thead><tr><th>Period</th><th>Format</th></tr></thead><tbody>
<tr><td>Annual</td><td>YYYY-A1 or YYYY</td></tr>
<tr><td>Semester</td><td>YYYY-S[1-2]</td></tr>
<tr><td>Quarter</td><td>YYYY-Q[1-4]</td></tr>
<tr><td>Monthly</td><td>YYYY-M[01-12] or YYYY-[01-12]</td></tr>
<tr><td>Weekly</td><td>YYYY-W[01-53]</td></tr>
<tr><td>Daily</td><td>YYYY-D[001-366]</td></tr>
<tr><td>Year interval</td><td>YYYY/P[01-99]Y</td></tr>
</tbody></table>
</div>
<p>The parameter used on time period is very strict and can be hard to set properly since the dataflow itself doesn't specify what it accepts in the name. To see which format of filter is allowed it is suggested to look at the Databrowser of Eurostat. Here you can search for the corresponding dataflow either by name or code. The Data browser will then refer to the &quot;Time Frequency&quot; to help you choose the correct format for filtering.</p>
<p>For the dataset shown in the image below. The Start and End Period parameter should correspond to the Period and Format of “Annual”.</p>
<p><img src="./images/start_end_period_annual.png" alt="" /></p>
<h3 id="first-n-last-n-observations"><a class="header" href="#first-n-last-n-observations">First N/ Last N Observations.</a></h3>
<p>First/Last N Observations allows filtering data observations within a time series to limit the number of observations returned. Providing values will restrict the reader to only fetch the first N Observations and/or the last N Observations of the dataflow with consideration taken to the optional Filter on time.</p>
<ul>
<li>This filter may be applied to data which has been filtered by dimension and / or time.</li>
<li>First N Observations return the first N observations in the corresponding series</li>
<li>Last N Observations return the last N observations in the corresponding series</li>
<li>Both definitions may be applied e.g. to return the first and last observations in a series.</li>
<li>If the filter is wrong, then a response is returned with no observation results.</li>
</ul>
<p>Keep in mind that N observations does not equal N features. An observation is the unique combination of the code lists for a certain time period. </p>
<p>As an example: As shown in the image below, when First N observations is set to 1. The first 768 rows of this dataflow are given as a result. This since 2012 is the first observation. But in this case “geo” and “animals” makes them unique for that time period. Making all a first 1 observations.</p>
<p><img src="./images/first_last_obersvations_example.png" alt="" /></p>
<p>When setting first/last observations, null values will be read for the Time Period and value attributes. This is done to compliment missing data. For the case shown above for instance, there is no observation for; &quot;Live Horses2 (A1100) in Belgium and Austria, the rows will be added with both &quot;TIME_PERIOD&quot; and &quot;OBS_VALUE&quot; set to <code>&lt;null&gt;</code>.</p>
<p><img src="./images/first_last_obersvations_example_2.png" alt="" /></p>
<h3 id="parameter-limitations-and-time-outs"><a class="header" href="#parameter-limitations-and-time-outs">Parameter limitations and time-outs</a></h3>
<p>It can take time for the backend of Eurostat to prepare this data. Therefore, the reader will be slower and sometimes might time-out the first time. The full datasets are ready to be shipped on Eurostat’s side. These custom filter files need to be created first. Therefore, the first time a filter is set, the back-end of Eurostat needs time to create the file and then get it ready to be downloaded. When filtering there is also a limitation on how many records can be filtered. When using a filter, the maximum number of features that are allowed to be in the result are 1.000.000.</p>
<h3 id="choosing-the-dataset"><a class="header" href="#choosing-the-dataset">Choosing the dataset</a></h3>
<p>Once the parameters are set to the users liking, a dataflow can be chosen.</p>
<p>The dataflows shown are based on the organization chosen in the web connection. You can navigate through the folders until you’ve found the desired dataflow. Select it and click on “ok”.</p>
<p>If you know the name or part of the name of the dataflow you are looking for. You can use the search function to quickly find it.</p>
<p><img src="./images/choose_dataset_dialog_2.png" alt="Select Dataset" /></p>
<p>The dataset you select will be represented as Feature Type in FME when you finish adding the Reader:</p>
<p><img src="./images/filtered_feature_type_name_suffix.png" alt="Dataset as FME Feature Type" /></p>
<p>The Feature Type Name will contain a random UUID as a suffix. This is to ensure that the correct data is read when filters are added afterwards.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="adding-geometries"><a class="header" href="#adding-geometries">Adding Geometries</a></h1>
<p>When reading data from Eurostat, by default, no geometries are read. </p>
<p>Most datasets that come from Eurostat come with a GEO code list (attribute). This Geo code list contains values that may correspond with the NUTS (Nomenclature of Territorial Units for Statistics) codes. These GEO codes in combination with the year of the observation (Time_period) can be combined to find the correct NUTS geometry. This geometry will correspond with the feature at the time of observation.
A custom transformer called “NUTS” can be used in the workspace to add geometries to the features as shown below:</p>
<p><img src="./images/add_geometries.png" alt="" /></p>
<p>Please note that an observation can have a geocode that represents an aggregate of countries or regions. These observations/features will not get a geometry since they do not correspond to any NUTS object. </p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="adding-code-list-attributes"><a class="header" href="#adding-code-list-attributes">Adding Code List attributes</a></h1>
<p>When reading data from Eurostat the attributes come in the form of codes. They don’t always clearly indicate what they mean. To get the proper value a lookup must be performed versus the official code lists.
These code lists can be found online by using the following link, where X equals the attribute Name of the cost list.</p>
<p>https://ec.europa.eu/eurostat/api/dissemination/sdmx/2.1/codelist/ESTAT/X</p>
<p>for example:</p>
<p><a href="https://ec.europa.eu/eurostat/api/dissemination/sdmx/2.1/codelist/ESTAT/FREQ">https://ec.europa.eu/eurostat/api/dissemination/sdmx/2.1/codelist/ESTAT/FREQ</a></p>
<p>To make this process easier a custom transformer has been developed that will dynamically change all the attribute values to their corresponding code list value.</p>
<p><img src="./images/codelists.png" alt="" /></p>
<p>The LookUp transformer comes with 1 parameter for the language. This can be either EN, DE or FR. In the example above DE was chosen to get the results in German. The other options correspond to English and French.
This will change values like “A” in the freq attribute to “Annual” or “AL” in geo to “Albania”.</p>
<p>This transformer must do a lookup for each attribute and each feature. It can therefore take quite some time.</p>
<p>To use this custom transformer. You first need to install the “EurostatLoopedLookup.fmx” transformer which is included in the getting started zip file. You can simply install it by Right clicking it and choosing the “Install with FME Workbench” option for the version you want to work in (2022.1 or higher).</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->

        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </body>
</html>
